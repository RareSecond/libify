{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/auth/account": {
      "delete": {
        "operationId": "AuthController_deleteAccount",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Account deleted successfully"
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/token": {
      "get": {
        "operationId": "AuthController_getAccessToken",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Spotify access token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenDto"
                }
              }
            }
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/api-key": {
      "get": {
        "operationId": "AuthController_getApiKey",
        "parameters": [],
        "responses": {
          "200": {
            "description": "API key for external clients (desktop app, CLI)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiKeyDto"
                }
              }
            }
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/profile": {
      "get": {
        "operationId": "AuthController_getProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/logout": {
      "post": {
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/spotify": {
      "get": {
        "operationId": "AuthController_spotifyAuth",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/spotify/callback": {
      "get": {
        "operationId": "AuthController_spotifyCallback",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/profile/onboarding": {
      "put": {
        "operationId": "AuthController_updateOnboarding",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOnboardingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated user profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDto"
                }
              }
            }
          }
        },
        "tags": [
          "Auth"
        ]
      }
    },
    "/health": {
      "get": {
        "operationId": "HealthController_check",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Health"
        ]
      }
    },
    "/health/services": {
      "get": {
        "operationId": "HealthController_checkAllServices",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Health"
        ]
      }
    },
    "/health/database": {
      "get": {
        "operationId": "HealthController_checkDatabase",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "tags": [
          "Health"
        ]
      }
    },
    "/health/redis": {
      "get": {
        "operationId": "HealthController_checkRedis",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "tags": [
          "Health"
        ]
      }
    },
    "/library/tracks/{trackId}/tags": {
      "post": {
        "operationId": "LibraryController_addTagToTrack",
        "parameters": [
          {
            "name": "trackId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddTagToTrackDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag added to track"
          },
          "201": {
            "description": ""
          },
          "404": {
            "description": "Track or tag not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add a tag to a track",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/{trackId}/add-to-library": {
      "post": {
        "operationId": "LibraryController_addTrackToLibrary",
        "parameters": [
          {
            "name": "trackId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Track added to library"
          },
          "201": {
            "description": ""
          },
          "404": {
            "description": "Track not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add track to user library",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/bulk-rate": {
      "post": {
        "operationId": "LibraryController_bulkRateTracks",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkRatingRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bulk rating completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Bulk rate tracks",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/bulk-tag": {
      "post": {
        "operationId": "LibraryController_bulkTagTracks",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkTagRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bulk tag operation completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkOperationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Tag not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Bulk add or remove tag from tracks",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tags": {
      "post": {
        "operationId": "LibraryController_createTag",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTagDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tag created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new tag",
        "tags": [
          "library"
        ]
      },
      "get": {
        "operationId": "LibraryController_getTags",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of tags",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TagResponseDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all user tags",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tags/{tagId}": {
      "delete": {
        "operationId": "LibraryController_deleteTag",
        "parameters": [
          {
            "name": "tagId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "204": {
            "description": "Tag deleted"
          },
          "404": {
            "description": "Tag not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a tag",
        "tags": [
          "library"
        ]
      },
      "put": {
        "operationId": "LibraryController_updateTag",
        "parameters": [
          {
            "name": "tagId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTagDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Tag not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a tag",
        "tags": [
          "library"
        ]
      }
    },
    "/library/albums": {
      "get": {
        "operationId": "LibraryController_getAlbums",
        "parameters": [
          {
            "name": "genres",
            "required": false,
            "in": "query",
            "description": "Filter by artist genres (albums matching any of the genres)",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 24,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search query for album name or artist name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "artist",
                "avgRating",
                "lastPlayed",
                "name",
                "totalPlayCount",
                "trackCount"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "asc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of albums",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedAlbumsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all albums in user library",
        "tags": [
          "library"
        ]
      }
    },
    "/library/albums/tracks": {
      "get": {
        "operationId": "LibraryController_getAlbumTracks",
        "parameters": [
          {
            "name": "album",
            "required": true,
            "in": "query",
            "description": "Album name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "artist",
            "required": true,
            "in": "query",
            "description": "Artist name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "title",
                "artist",
                "album",
                "addedAt",
                "lastPlayedAt",
                "totalPlayCount",
                "rating",
                "duration",
                "tempo",
                "energy",
                "danceability",
                "valence",
                "acousticness",
                "instrumentalness",
                "speechiness",
                "liveness"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of tracks from the album",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlbumTracksResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get tracks from a specific album",
        "tags": [
          "library"
        ]
      }
    },
    "/library/artists": {
      "get": {
        "operationId": "LibraryController_getArtists",
        "parameters": [
          {
            "name": "genres",
            "required": false,
            "in": "query",
            "description": "Filter by genres (artists matching any of the genres)",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 24,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search query for artist name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "albumCount",
                "avgRating",
                "lastPlayed",
                "name",
                "totalPlayCount",
                "trackCount"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "asc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of artists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedArtistsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all artists in user library",
        "tags": [
          "library"
        ]
      }
    },
    "/library/artists/tracks": {
      "get": {
        "operationId": "LibraryController_getArtistTracks",
        "parameters": [
          {
            "name": "artist",
            "required": true,
            "in": "query",
            "description": "Artist name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "title",
                "artist",
                "album",
                "addedAt",
                "lastPlayedAt",
                "totalPlayCount",
                "rating",
                "duration",
                "tempo",
                "energy",
                "danceability",
                "valence",
                "acousticness",
                "instrumentalness",
                "speechiness",
                "liveness"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of tracks from the artist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArtistTracksResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get tracks from a specific artist",
        "tags": [
          "library"
        ]
      }
    },
    "/library/dashboard/stats": {
      "get": {
        "operationId": "LibraryController_getDashboardStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Dashboard statistics retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardStatsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get dashboard statistics",
        "tags": [
          "library"
        ]
      }
    },
    "/library/genres": {
      "get": {
        "operationId": "LibraryController_getGenres",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of unique genres",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all unique genres in user library",
        "tags": [
          "library"
        ]
      }
    },
    "/library/play-history": {
      "get": {
        "operationId": "LibraryController_getPlayHistory",
        "parameters": [
          {
            "name": "includeNonLibrary",
            "required": false,
            "in": "query",
            "description": "Include non-library tracks (auto-tracked from play history)",
            "schema": {
              "default": true,
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size",
            "schema": {
              "minimum": 1,
              "maximum": 1000,
              "default": 50,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search query for title, artist or album",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "trackId",
            "required": false,
            "in": "query",
            "description": "Filter by track ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of play history",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPlayHistoryDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get user play history",
        "tags": [
          "library"
        ]
      }
    },
    "/library/playlists": {
      "get": {
        "operationId": "LibraryController_getPlaylists",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 24,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search query for playlist name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "avgRating",
                "lastPlayed",
                "name",
                "totalPlayCount",
                "trackCount"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "asc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of playlists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPlaylistsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all Spotify playlists in user library",
        "tags": [
          "library"
        ]
      }
    },
    "/library/playlists/{id}/tracks": {
      "get": {
        "operationId": "LibraryController_getPlaylistTracks",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Number of tracks per page",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "title",
                "artist",
                "album",
                "addedAt",
                "lastPlayedAt",
                "totalPlayCount",
                "rating",
                "duration",
                "tempo",
                "energy",
                "danceability",
                "valence",
                "acousticness",
                "instrumentalness",
                "speechiness",
                "liveness"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of tracks from the playlist",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistTracksResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get tracks from a specific playlist",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/random-unrated": {
      "get": {
        "operationId": "LibraryController_getRandomUnratedTracks",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of tracks to return",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of random unrated tracks",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TrackDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get random unrated tracks for onboarding",
        "tags": [
          "library"
        ]
      }
    },
    "/library/sync/count": {
      "get": {
        "operationId": "LibraryController_getSyncItemCounts",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Item counts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncItemCountsDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Pre-count items to be synced (tracks, albums, playlists)",
        "tags": [
          "library"
        ]
      }
    },
    "/library/sync/status": {
      "get": {
        "operationId": "LibraryController_getSyncLibraryStatus",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Sync status retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncStatusDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get library sync status",
        "tags": [
          "library"
        ]
      }
    },
    "/library/sync/{jobId}": {
      "get": {
        "operationId": "LibraryController_getSyncStatusByJobId",
        "parameters": [
          {
            "name": "jobId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sync job status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncJobStatusDto"
                }
              }
            }
          },
          "404": {
            "description": "Job not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get sync job status by job ID",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/spotify/{spotifyId}": {
      "get": {
        "operationId": "LibraryController_getTrackBySpotifyId",
        "parameters": [
          {
            "name": "spotifyId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Track details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackDto"
                }
              }
            }
          },
          "404": {
            "description": "Track not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get track by Spotify ID",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks": {
      "get": {
        "operationId": "LibraryController_getTracks",
        "parameters": [
          {
            "name": "genres",
            "required": false,
            "in": "query",
            "description": "Filter by artist genres (tracks matching any of the genres)",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "minRating",
            "required": false,
            "in": "query",
            "description": "Filter by minimum rating",
            "schema": {
              "minimum": 1,
              "maximum": 5,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size",
            "schema": {
              "minimum": 1,
              "maximum": 1000,
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search query for title, artist or album",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "title",
                "artist",
                "album",
                "addedAt",
                "lastPlayedAt",
                "totalPlayCount",
                "rating",
                "duration",
                "tempo",
                "energy",
                "danceability",
                "valence",
                "acousticness",
                "instrumentalness",
                "speechiness",
                "liveness"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "sourceTypes",
            "required": false,
            "in": "query",
            "description": "Filter by source types",
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "LIKED_SONGS",
                  "PLAYLIST",
                  "ALBUM",
                  "ARTIST_TOP_TRACKS",
                  "PLAY_HISTORY"
                ]
              }
            }
          },
          {
            "name": "tagIds",
            "required": false,
            "in": "query",
            "description": "Filter by tag IDs",
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "format": "uuid"
              }
            }
          },
          {
            "name": "unratedOnly",
            "required": false,
            "in": "query",
            "description": "Filter for unrated tracks only",
            "schema": {
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of user tracks",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedTracksDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get user tracks",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/play": {
      "get": {
        "operationId": "LibraryController_getTracksForPlay",
        "parameters": [
          {
            "name": "genres",
            "required": false,
            "in": "query",
            "description": "Filter by artist genres (tracks matching any of the genres)",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "minRating",
            "required": false,
            "in": "query",
            "description": "Filter by minimum rating",
            "schema": {
              "minimum": 1,
              "maximum": 5,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Page size",
            "schema": {
              "minimum": 1,
              "maximum": 1000,
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search query for title, artist or album",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string",
              "enum": [
                "title",
                "artist",
                "album",
                "addedAt",
                "lastPlayedAt",
                "totalPlayCount",
                "rating",
                "duration",
                "tempo",
                "energy",
                "danceability",
                "valence",
                "acousticness",
                "instrumentalness",
                "speechiness",
                "liveness"
              ]
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "desc",
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "name": "sourceTypes",
            "required": false,
            "in": "query",
            "description": "Filter by source types",
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "LIKED_SONGS",
                  "PLAYLIST",
                  "ALBUM",
                  "ARTIST_TOP_TRACKS",
                  "PLAY_HISTORY"
                ]
              }
            }
          },
          {
            "name": "tagIds",
            "required": false,
            "in": "query",
            "description": "Filter by tag IDs",
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "format": "uuid"
              }
            }
          },
          {
            "name": "unratedOnly",
            "required": false,
            "in": "query",
            "description": "Filter for unrated tracks only",
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "name": "shuffle",
            "required": false,
            "in": "query",
            "description": "Shuffle the tracks",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all track URIs for playing library",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/{trackId}/play": {
      "post": {
        "operationId": "LibraryController_playTrack",
        "parameters": [
          {
            "name": "trackId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Track started playing"
          },
          "201": {
            "description": ""
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Play a track on Spotify",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/{trackId}/tags/{tagId}": {
      "delete": {
        "operationId": "LibraryController_removeTagFromTrack",
        "parameters": [
          {
            "name": "trackId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tagId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tag removed from track"
          },
          "404": {
            "description": "Track not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Remove a tag from a track",
        "tags": [
          "library"
        ]
      }
    },
    "/library/sync": {
      "post": {
        "operationId": "LibraryController_syncLibrary",
        "parameters": [],
        "requestBody": {
          "required": false,
          "description": "Sync options to control what gets synced",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncOptionsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sync job queued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncJobResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncJobResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Start library sync job (non-blocking) with optional sync options",
        "tags": [
          "library"
        ]
      }
    },
    "/library/sync-plays": {
      "post": {
        "operationId": "LibraryController_syncPlays",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Play sync completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaySyncResultDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaySyncResultDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Manually sync recently played tracks from Spotify",
        "tags": [
          "library"
        ]
      }
    },
    "/library/sync/recent": {
      "post": {
        "operationId": "LibraryController_syncRecentlyPlayed",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Quick sync job queued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncJobResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncJobResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Start quick sync job (50 most recent liked tracks) - returns job ID for WebSocket progress",
        "tags": [
          "library"
        ]
      }
    },
    "/library/tracks/{trackId}/rating": {
      "put": {
        "operationId": "LibraryController_updateTrackRating",
        "parameters": [
          {
            "name": "trackId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRatingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Rating updated"
          },
          "404": {
            "description": "Track not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update track rating",
        "tags": [
          "library"
        ]
      }
    },
    "/playback/current": {
      "get": {
        "operationId": "PlaybackController_getCurrentPlayback",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Current playback state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrentPlaybackStateDto"
                }
              }
            }
          },
          "204": {
            "description": "No active playback"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get current playback state",
        "tags": [
          "playback"
        ]
      }
    },
    "/playback/next": {
      "post": {
        "operationId": "PlaybackController_next",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Skipped to next track",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Skip to next track",
        "tags": [
          "playback"
        ]
      }
    },
    "/playback/pause": {
      "post": {
        "operationId": "PlaybackController_pause",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Playback paused",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Pause playback",
        "tags": [
          "playback"
        ]
      }
    },
    "/playback/play": {
      "post": {
        "operationId": "PlaybackController_play",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlayContextDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Playback started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Start playback with queue generation",
        "tags": [
          "playback"
        ]
      }
    },
    "/playback/previous": {
      "post": {
        "operationId": "PlaybackController_previous",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Skipped to previous track",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Skip to previous track",
        "tags": [
          "playback"
        ]
      }
    },
    "/playback/resume": {
      "post": {
        "operationId": "PlaybackController_resume",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Playback resumed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Resume playback",
        "tags": [
          "playback"
        ]
      }
    },
    "/playback/transfer": {
      "post": {
        "operationId": "PlaybackController_transferPlayback",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransferPlaybackDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Playback transferred",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaybackControlResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Transfer playback to a device",
        "tags": [
          "playback"
        ]
      }
    },
    "/playlists": {
      "post": {
        "operationId": "PlaylistsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSmartPlaylistDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartPlaylistDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new smart playlist",
        "tags": [
          "playlists"
        ]
      },
      "get": {
        "operationId": "PlaylistsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SmartPlaylistWithTracksDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all smart playlists",
        "tags": [
          "playlists"
        ]
      }
    },
    "/playlists/{id}": {
      "get": {
        "operationId": "PlaylistsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartPlaylistWithTracksDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get a smart playlist by ID",
        "tags": [
          "playlists"
        ]
      },
      "delete": {
        "operationId": "PlaylistsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "204": {
            "description": ""
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a smart playlist",
        "tags": [
          "playlists"
        ]
      },
      "put": {
        "operationId": "PlaylistsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSmartPlaylistDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartPlaylistDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a smart playlist",
        "tags": [
          "playlists"
        ]
      }
    },
    "/playlists/{id}/tracks": {
      "get": {
        "operationId": "PlaylistsController_getTracks",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number for pagination (minimum: 1)",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "pageSize",
            "required": false,
            "in": "query",
            "description": "Number of items per page (minimum: 1, maximum: 100)",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Field to sort tracks by. If not provided, uses the playlist default order.",
            "schema": {
              "enum": [
                "title",
                "artist",
                "album",
                "duration",
                "totalPlayCount",
                "lastPlayedAt",
                "rating",
                "addedAt"
              ],
              "type": "string"
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort direction (ascending or descending)",
            "schema": {
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedTracksDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get tracks for a smart playlist",
        "tags": [
          "playlists"
        ]
      }
    },
    "/playlists/{id}/tracks/play": {
      "get": {
        "operationId": "PlaylistsController_getTracksForPlay",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "shuffle",
            "required": false,
            "in": "query",
            "description": "Shuffle the tracks",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all track URIs for playing a playlist",
        "tags": [
          "playlists"
        ]
      }
    },
    "/playlists/{id}/sync": {
      "post": {
        "description": "Syncs the smart playlist to Spotify. Creates a new Spotify playlist if one doesn't exist, or updates the existing one. The Spotify playlist name will be prefixed with [Codex.fm].",
        "operationId": "PlaylistsController_syncToSpotify",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncToSpotifyResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncToSpotifyResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Sync smart playlist to Spotify",
        "tags": [
          "playlists"
        ]
      }
    }
  },
  "info": {
    "title": "Codex.fm API",
    "description": "Spotify library management API",
    "version": "0.0.1",
    "contact": {}
  },
  "tags": [
    {
      "name": "codex.fm",
      "description": ""
    }
  ],
  "servers": [],
  "components": {
    "schemas": {
      "TokenDto": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "Spotify access token",
            "example": "BQD..."
          }
        },
        "required": [
          "accessToken"
        ]
      },
      "ApiKeyDto": {
        "type": "object",
        "properties": {
          "apiKey": {
            "type": "string",
            "description": "The API key for external clients"
          }
        },
        "required": [
          "apiKey"
        ]
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "hasCompletedOnboarding": {
            "type": "boolean"
          },
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "createdAt",
          "email",
          "hasCompletedOnboarding",
          "id",
          "provider",
          "updatedAt"
        ]
      },
      "UpdateOnboardingDto": {
        "type": "object",
        "properties": {
          "hasCompletedOnboarding": {
            "type": "boolean"
          }
        },
        "required": [
          "hasCompletedOnboarding"
        ]
      },
      "AddTagToTrackDto": {
        "type": "object",
        "properties": {
          "tagId": {
            "type": "string",
            "format": "uuid",
            "description": "Tag ID to add to the track"
          }
        },
        "required": [
          "tagId"
        ]
      },
      "BulkOperationFilterDto": {
        "type": "object",
        "properties": {
          "albumId": {
            "type": "string",
            "format": "uuid",
            "description": "Filter by album ID (internal)"
          },
          "artistId": {
            "type": "string",
            "format": "uuid",
            "description": "Filter by artist ID (internal)"
          },
          "genres": {
            "description": "Filter by artist genres",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "minRating": {
            "type": "number",
            "minimum": 1,
            "maximum": 5,
            "description": "Filter by minimum rating"
          },
          "playlistId": {
            "type": "string",
            "format": "uuid",
            "description": "Filter by smart playlist ID"
          },
          "search": {
            "type": "string",
            "description": "Search query for title, artist, album"
          },
          "sourceTypes": {
            "type": "array",
            "description": "Filter by source types",
            "items": {
              "type": "string",
              "enum": [
                "LIKED_SONGS",
                "PLAYLIST",
                "ALBUM",
                "ARTIST_TOP_TRACKS",
                "PLAY_HISTORY"
              ]
            }
          },
          "spotifyPlaylistId": {
            "type": "string",
            "description": "Filter by Spotify playlist ID"
          },
          "tagIds": {
            "description": "Filter by tag IDs",
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "unratedOnly": {
            "type": "boolean",
            "description": "Filter for unrated tracks only"
          }
        }
      },
      "BulkRatingRequestDto": {
        "type": "object",
        "properties": {
          "excludeTrackIds": {
            "description": "Track IDs to exclude when using filter (for 'select all except' functionality)",
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "filter": {
            "description": "Filter criteria for tracks to rate (alternative to trackIds)",
            "allOf": [
              {
                "$ref": "#/components/schemas/BulkOperationFilterDto"
              }
            ]
          },
          "overwriteExisting": {
            "type": "boolean",
            "default": false,
            "description": "Whether to overwrite existing ratings (false = only rate unrated tracks)"
          },
          "rating": {
            "type": "number",
            "minimum": 0.5,
            "maximum": 5,
            "description": "Rating value (0.5-5 in 0.5 increments)",
            "example": 4.5
          },
          "trackIds": {
            "description": "Explicit track IDs to rate (alternative to filter)",
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          }
        },
        "required": [
          "rating"
        ]
      },
      "BulkOperationResponseDto": {
        "type": "object",
        "properties": {
          "affectedCount": {
            "type": "number",
            "description": "Number of tracks affected"
          },
          "message": {
            "type": "string",
            "description": "Result message"
          }
        },
        "required": [
          "affectedCount",
          "message"
        ]
      },
      "BulkTagRequestDto": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "description": "Action to perform",
            "enum": [
              "add",
              "remove"
            ]
          },
          "excludeTrackIds": {
            "description": "Track IDs to exclude when using filter (for 'select all except' functionality)",
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "filter": {
            "description": "Filter criteria for tracks to tag (alternative to trackIds)",
            "allOf": [
              {
                "$ref": "#/components/schemas/BulkOperationFilterDto"
              }
            ]
          },
          "tagId": {
            "type": "string",
            "format": "uuid",
            "description": "Tag ID to add or remove"
          },
          "trackIds": {
            "description": "Explicit track IDs to tag (alternative to filter)",
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          }
        },
        "required": [
          "action",
          "tagId"
        ]
      },
      "CreateTagDto": {
        "type": "object",
        "properties": {
          "color": {
            "type": "string",
            "pattern": "^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$",
            "description": "Tag color in hex format"
          },
          "name": {
            "type": "string",
            "description": "Tag name"
          }
        },
        "required": [
          "name"
        ]
      },
      "TagResponseDto": {
        "type": "object",
        "properties": {
          "color": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "createdAt",
          "id",
          "name"
        ]
      },
      "AlbumDto": {
        "type": "object",
        "properties": {
          "albumArt": {
            "type": "string",
            "nullable": true,
            "description": "Album artwork URL"
          },
          "artist": {
            "type": "string",
            "description": "Album artist"
          },
          "artistGenres": {
            "description": "Array of genre names from the album artist",
            "nullable": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "avgRating": {
            "type": "number",
            "nullable": true,
            "description": "Average rating of rated tracks"
          },
          "firstAdded": {
            "format": "date-time",
            "type": "string",
            "description": "Date when first track from album was added"
          },
          "lastPlayed": {
            "format": "date-time",
            "type": "string",
            "nullable": true,
            "description": "Date when any track from album was last played"
          },
          "name": {
            "type": "string",
            "description": "Album name"
          },
          "totalDuration": {
            "type": "number",
            "description": "Total duration of all tracks in milliseconds"
          },
          "totalPlayCount": {
            "type": "number",
            "description": "Total play count across all tracks"
          },
          "trackCount": {
            "type": "number",
            "description": "Number of tracks from this album in library"
          }
        },
        "required": [
          "albumArt",
          "artist",
          "artistGenres",
          "avgRating",
          "firstAdded",
          "lastPlayed",
          "name",
          "totalDuration",
          "totalPlayCount",
          "trackCount"
        ]
      },
      "PaginatedAlbumsDto": {
        "type": "object",
        "properties": {
          "albums": {
            "description": "List of albums",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AlbumDto"
            }
          },
          "page": {
            "type": "number",
            "description": "Current page number"
          },
          "pageSize": {
            "type": "number",
            "description": "Number of items per page"
          },
          "total": {
            "type": "number",
            "description": "Total number of albums"
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages"
          }
        },
        "required": [
          "albums",
          "page",
          "pageSize",
          "total",
          "totalPages"
        ]
      },
      "TrackSourceDto": {
        "type": "object",
        "properties": {
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "sourceId": {
            "type": "string",
            "description": "Spotify ID of the source"
          },
          "sourceName": {
            "type": "string",
            "description": "Name of the source (e.g., playlist name)"
          },
          "sourceType": {
            "type": "string",
            "description": "Type of source",
            "enum": [
              "LIKED_SONGS",
              "PLAYLIST",
              "ALBUM",
              "ARTIST_TOP_TRACKS",
              "PLAY_HISTORY"
            ]
          }
        },
        "required": [
          "createdAt",
          "id",
          "sourceType"
        ]
      },
      "TagDto": {
        "type": "object",
        "properties": {
          "color": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "TrackDto": {
        "type": "object",
        "properties": {
          "acousticness": {
            "type": "number",
            "description": "0.0-1.0, confidence track is acoustic"
          },
          "addedAt": {
            "format": "date-time",
            "type": "string"
          },
          "album": {
            "type": "string"
          },
          "albumArt": {
            "type": "string"
          },
          "albumId": {
            "type": "string",
            "description": "Internal album ID for playback context"
          },
          "artist": {
            "type": "string"
          },
          "artistGenres": {
            "description": "Array of genre names from the track artist",
            "nullable": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "artistId": {
            "type": "string",
            "description": "Internal artist ID for playback context"
          },
          "danceability": {
            "type": "number",
            "description": "0.0-1.0, how suitable for dancing"
          },
          "duration": {
            "type": "number",
            "description": "Duration in milliseconds"
          },
          "energy": {
            "type": "number",
            "description": "0.0-1.0, perceptual intensity/activity"
          },
          "id": {
            "type": "string"
          },
          "instrumentalness": {
            "type": "number",
            "description": "0.0-1.0, predicts if track has no vocals"
          },
          "lastPlayedAt": {
            "format": "date-time",
            "type": "string"
          },
          "liveness": {
            "type": "number",
            "description": "0.0-1.0, probability of live recording"
          },
          "ratedAt": {
            "format": "date-time",
            "type": "string"
          },
          "rating": {
            "type": "number",
            "maximum": 5,
            "minimum": 1
          },
          "sources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrackSourceDto"
            }
          },
          "speechiness": {
            "type": "number",
            "description": "0.0-1.0, presence of spoken words"
          },
          "spotifyId": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TagDto"
            }
          },
          "tempo": {
            "type": "number",
            "description": "Tempo in BPM"
          },
          "title": {
            "type": "string"
          },
          "totalPlayCount": {
            "type": "number"
          },
          "valence": {
            "type": "number",
            "description": "0.0-1.0, musical positiveness (happy vs sad)"
          }
        },
        "required": [
          "addedAt",
          "albumId",
          "artist",
          "artistGenres",
          "artistId",
          "duration",
          "id",
          "sources",
          "spotifyId",
          "tags",
          "title",
          "totalPlayCount"
        ]
      },
      "AlbumTracksResponseDto": {
        "type": "object",
        "properties": {
          "tracks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrackDto"
            }
          }
        },
        "required": [
          "tracks"
        ]
      },
      "ArtistDto": {
        "type": "object",
        "properties": {
          "albumCount": {
            "type": "number",
            "description": "Number of albums by this artist"
          },
          "artistImage": {
            "type": "string",
            "nullable": true,
            "description": "Artist image URL"
          },
          "avgRating": {
            "type": "number",
            "nullable": true,
            "description": "Average rating across all rated tracks"
          },
          "firstAdded": {
            "format": "date-time",
            "type": "string",
            "description": "Date when first track was added"
          },
          "genres": {
            "description": "Array of genre names associated with this artist",
            "nullable": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "lastPlayed": {
            "format": "date-time",
            "type": "string",
            "nullable": true,
            "description": "Date when any track was last played"
          },
          "name": {
            "type": "string",
            "description": "Artist name"
          },
          "totalDuration": {
            "type": "number",
            "description": "Total duration of all tracks in milliseconds"
          },
          "totalPlayCount": {
            "type": "number",
            "description": "Total play count across all tracks"
          },
          "trackCount": {
            "type": "number",
            "description": "Number of tracks by this artist"
          }
        },
        "required": [
          "albumCount",
          "artistImage",
          "avgRating",
          "firstAdded",
          "genres",
          "lastPlayed",
          "name",
          "totalDuration",
          "totalPlayCount",
          "trackCount"
        ]
      },
      "PaginatedArtistsDto": {
        "type": "object",
        "properties": {
          "artists": {
            "description": "List of artists",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ArtistDto"
            }
          },
          "page": {
            "type": "number",
            "description": "Current page number"
          },
          "pageSize": {
            "type": "number",
            "description": "Number of items per page"
          },
          "total": {
            "type": "number",
            "description": "Total number of artists"
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages"
          }
        },
        "required": [
          "artists",
          "page",
          "pageSize",
          "total",
          "totalPages"
        ]
      },
      "ArtistTracksResponseDto": {
        "type": "object",
        "properties": {
          "tracks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrackDto"
            }
          }
        },
        "required": [
          "tracks"
        ]
      },
      "ActivityStatsDto": {
        "type": "object",
        "properties": {
          "totalPlaysThisWeek": {
            "type": "number",
            "description": "Total play count in last 7 days"
          },
          "tracksAddedThisWeek": {
            "type": "number",
            "description": "Number of tracks added in last 7 days"
          },
          "tracksPlayedThisWeek": {
            "type": "number",
            "description": "Number of tracks played in last 7 days"
          },
          "tracksRatedThisWeek": {
            "type": "number",
            "description": "Number of tracks rated in last 7 days"
          }
        },
        "required": [
          "totalPlaysThisWeek",
          "tracksAddedThisWeek",
          "tracksPlayedThisWeek",
          "tracksRatedThisWeek"
        ]
      },
      "RatingStatsDto": {
        "type": "object",
        "properties": {
          "averageRating": {
            "type": "number",
            "description": "Average rating across all rated tracks"
          },
          "percentageRated": {
            "type": "number",
            "description": "Percentage of library rated (0-100)"
          },
          "ratedTracks": {
            "type": "number",
            "description": "Number of rated tracks"
          },
          "totalTracks": {
            "type": "number",
            "description": "Total number of tracks in library"
          },
          "unratedTracks": {
            "type": "number",
            "description": "Number of unrated tracks"
          }
        },
        "required": [
          "averageRating",
          "percentageRated",
          "ratedTracks",
          "totalTracks",
          "unratedTracks"
        ]
      },
      "TopItemDto": {
        "type": "object",
        "properties": {
          "count": {
            "type": "number",
            "description": "Item count (play count or track count)"
          },
          "id": {
            "type": "string",
            "description": "Internal track/artist ID"
          },
          "imageUrl": {
            "type": "string",
            "description": "Image URL (album art or artist image)"
          },
          "info": {
            "type": "string",
            "description": "Additional info (artist name for tracks, genre for artists)"
          },
          "name": {
            "type": "string",
            "description": "Item name (track title or artist name)"
          },
          "spotifyId": {
            "type": "string",
            "description": "Spotify ID"
          }
        },
        "required": [
          "count",
          "name"
        ]
      },
      "TagStatsDto": {
        "type": "object",
        "properties": {
          "percentageTagged": {
            "type": "number",
            "description": "Percentage of library tagged (0-100)"
          },
          "taggedTracks": {
            "type": "number",
            "description": "Number of tracks with at least one tag"
          },
          "topTags": {
            "description": "Top 5 most used tags",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TopItemDto"
            }
          },
          "totalTags": {
            "type": "number",
            "description": "Total number of tags created"
          }
        },
        "required": [
          "percentageTagged",
          "taggedTracks",
          "topTags",
          "totalTags"
        ]
      },
      "DashboardStatsDto": {
        "type": "object",
        "properties": {
          "activityStats": {
            "description": "Activity statistics for the past week",
            "allOf": [
              {
                "$ref": "#/components/schemas/ActivityStatsDto"
              }
            ]
          },
          "isSynced": {
            "type": "boolean",
            "description": "Whether library has been synced"
          },
          "lastSyncedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Last sync date"
          },
          "ratingStats": {
            "description": "Rating statistics",
            "allOf": [
              {
                "$ref": "#/components/schemas/RatingStatsDto"
              }
            ]
          },
          "tagStats": {
            "description": "Tag statistics",
            "allOf": [
              {
                "$ref": "#/components/schemas/TagStatsDto"
              }
            ]
          },
          "topArtistsThisWeek": {
            "description": "Top 3 most played artists this week",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TopItemDto"
            }
          },
          "topTracksThisWeek": {
            "description": "Top 3 most played tracks this week",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TopItemDto"
            }
          },
          "totalAlbums": {
            "type": "number",
            "description": "Total albums in user library"
          },
          "totalArtists": {
            "type": "number",
            "description": "Total artists in user library"
          },
          "totalTracks": {
            "type": "number",
            "description": "Total tracks in user library"
          }
        },
        "required": [
          "activityStats",
          "isSynced",
          "ratingStats",
          "tagStats",
          "topArtistsThisWeek",
          "topTracksThisWeek",
          "totalAlbums",
          "totalArtists",
          "totalTracks"
        ]
      },
      "PlayHistoryItemDto": {
        "type": "object",
        "properties": {
          "duration": {
            "type": "number",
            "description": "Duration listened in milliseconds",
            "nullable": true
          },
          "id": {
            "type": "string"
          },
          "playedAt": {
            "format": "date-time",
            "type": "string"
          },
          "trackAddedToLibrary": {
            "type": "boolean",
            "description": "Whether the track is explicitly in the user's library"
          },
          "trackAlbum": {
            "type": "string"
          },
          "trackAlbumArt": {
            "type": "string"
          },
          "trackArtist": {
            "type": "string"
          },
          "trackDuration": {
            "type": "number",
            "description": "Track duration in milliseconds"
          },
          "trackId": {
            "type": "string"
          },
          "trackSpotifyId": {
            "type": "string"
          },
          "trackTitle": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "playedAt",
          "trackAddedToLibrary",
          "trackArtist",
          "trackDuration",
          "trackId",
          "trackSpotifyId",
          "trackTitle"
        ]
      },
      "PaginatedPlayHistoryDto": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlayHistoryItemDto"
            }
          },
          "page": {
            "type": "number"
          },
          "pageSize": {
            "type": "number"
          },
          "total": {
            "type": "number"
          },
          "totalPages": {
            "type": "number"
          }
        },
        "required": [
          "items",
          "page",
          "pageSize",
          "total",
          "totalPages"
        ]
      },
      "PlaylistDto": {
        "type": "object",
        "properties": {
          "avgRating": {
            "type": "number",
            "nullable": true,
            "description": "Average rating of rated tracks"
          },
          "collaborative": {
            "type": "boolean",
            "description": "Whether this is a collaborative playlist"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Playlist description"
          },
          "id": {
            "type": "string",
            "description": "Playlist internal ID"
          },
          "imageUrl": {
            "type": "string",
            "nullable": true,
            "description": "Playlist cover image URL"
          },
          "lastPlayed": {
            "format": "date-time",
            "type": "string",
            "nullable": true,
            "description": "Date when any track from playlist was last played"
          },
          "name": {
            "type": "string",
            "description": "Playlist name"
          },
          "ownerName": {
            "type": "string",
            "nullable": true,
            "description": "Playlist owner name"
          },
          "public": {
            "type": "boolean",
            "description": "Whether this is a public playlist"
          },
          "spotifyId": {
            "type": "string",
            "description": "Spotify playlist ID"
          },
          "totalDuration": {
            "type": "number",
            "description": "Total duration of all tracks in milliseconds"
          },
          "totalPlayCount": {
            "type": "number",
            "description": "Total play count across all tracks"
          },
          "trackCount": {
            "type": "number",
            "description": "Number of tracks in playlist"
          }
        },
        "required": [
          "avgRating",
          "collaborative",
          "description",
          "id",
          "imageUrl",
          "lastPlayed",
          "name",
          "ownerName",
          "public",
          "spotifyId",
          "totalDuration",
          "totalPlayCount",
          "trackCount"
        ]
      },
      "PaginatedPlaylistsDto": {
        "type": "object",
        "properties": {
          "page": {
            "type": "number",
            "description": "Current page number"
          },
          "pageSize": {
            "type": "number",
            "description": "Number of items per page"
          },
          "playlists": {
            "description": "List of playlists",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlaylistDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Total number of playlists"
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages"
          }
        },
        "required": [
          "page",
          "pageSize",
          "playlists",
          "total",
          "totalPages"
        ]
      },
      "PlaylistTracksResponseDto": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Playlist description"
          },
          "imageUrl": {
            "type": "string",
            "nullable": true,
            "description": "Playlist cover image URL"
          },
          "name": {
            "type": "string",
            "description": "Playlist name"
          },
          "page": {
            "type": "number",
            "description": "Current page number"
          },
          "pageSize": {
            "type": "number",
            "description": "Number of items per page"
          },
          "spotifyId": {
            "type": "string",
            "description": "Spotify playlist ID"
          },
          "total": {
            "type": "number",
            "description": "Total number of tracks"
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages"
          },
          "tracks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrackDto"
            }
          }
        },
        "required": [
          "description",
          "imageUrl",
          "name",
          "page",
          "pageSize",
          "spotifyId",
          "total",
          "totalPages",
          "tracks"
        ]
      },
      "SyncItemCountsDto": {
        "type": "object",
        "properties": {
          "albums": {
            "type": "number",
            "description": "Number of albums to sync"
          },
          "albumTracks": {
            "type": "number",
            "description": "Number of tracks within albums"
          },
          "playlists": {
            "type": "number",
            "description": "Number of playlists to sync"
          },
          "playlistTracks": {
            "type": "number",
            "description": "Number of tracks within playlists"
          },
          "tracks": {
            "type": "number",
            "description": "Number of liked tracks to sync"
          }
        },
        "required": [
          "albums",
          "playlists",
          "tracks"
        ]
      },
      "SyncStatusDto": {
        "type": "object",
        "properties": {
          "lastSync": {
            "format": "date-time",
            "type": "string",
            "nullable": true,
            "description": "Last sync timestamp"
          },
          "totalAlbums": {
            "type": "number",
            "description": "Total number of albums in library"
          },
          "totalTracks": {
            "type": "number",
            "description": "Total number of tracks in library"
          }
        },
        "required": [
          "lastSync",
          "totalAlbums",
          "totalTracks"
        ]
      },
      "SyncCategoryProgressDto": {
        "type": "object",
        "properties": {
          "processed": {
            "type": "number",
            "description": "Number of items processed"
          },
          "total": {
            "type": "number",
            "description": "Total items to process"
          }
        },
        "required": [
          "processed",
          "total"
        ]
      },
      "SyncProgressBreakdownDto": {
        "type": "object",
        "properties": {
          "albums": {
            "description": "Album sync progress",
            "allOf": [
              {
                "$ref": "#/components/schemas/SyncCategoryProgressDto"
              }
            ]
          },
          "playlists": {
            "description": "Playlist sync progress",
            "allOf": [
              {
                "$ref": "#/components/schemas/SyncCategoryProgressDto"
              }
            ]
          },
          "tracks": {
            "description": "Track sync progress",
            "allOf": [
              {
                "$ref": "#/components/schemas/SyncCategoryProgressDto"
              }
            ]
          }
        },
        "required": [
          "albums",
          "playlists",
          "tracks"
        ]
      },
      "SyncProgressDto": {
        "type": "object",
        "properties": {
          "breakdown": {
            "description": "Progress breakdown by category",
            "allOf": [
              {
                "$ref": "#/components/schemas/SyncProgressBreakdownDto"
              }
            ]
          },
          "current": {
            "type": "number",
            "description": "Number of items processed in current phase"
          },
          "errorCount": {
            "type": "number",
            "description": "Number of non-fatal errors encountered"
          },
          "errors": {
            "description": "List of non-fatal errors encountered (deprecated, use errorCount for progress updates)",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "estimatedTimeRemaining": {
            "type": "number",
            "description": "Estimated time remaining in seconds"
          },
          "itemsPerSecond": {
            "type": "number",
            "description": "Processing speed (items per second)"
          },
          "message": {
            "type": "string",
            "description": "Human-readable status message"
          },
          "percentage": {
            "type": "number",
            "description": "Overall progress percentage (0-100)"
          },
          "phase": {
            "type": "string",
            "description": "Current sync phase",
            "enum": [
              "tracks",
              "albums",
              "playlists"
            ]
          },
          "total": {
            "type": "number",
            "description": "Total items to process in current phase"
          }
        },
        "required": [
          "current",
          "errorCount",
          "message",
          "percentage",
          "phase",
          "total"
        ]
      },
      "SyncJobStatusDto": {
        "type": "object",
        "properties": {
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Job creation timestamp"
          },
          "jobId": {
            "type": "string",
            "description": "Unique job identifier"
          },
          "message": {
            "type": "string",
            "description": "Success message"
          },
          "status": {
            "type": "string",
            "description": "Job status",
            "enum": [
              "queued",
              "active",
              "completed",
              "failed"
            ]
          },
          "completedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Job completion timestamp"
          },
          "failedReason": {
            "type": "string",
            "description": "Error message if job failed"
          },
          "progress": {
            "description": "Current progress information",
            "allOf": [
              {
                "$ref": "#/components/schemas/SyncProgressDto"
              }
            ]
          },
          "result": {
            "type": "object",
            "description": "Final sync result"
          }
        },
        "required": [
          "jobId",
          "message",
          "status"
        ]
      },
      "PaginatedTracksDto": {
        "type": "object",
        "properties": {
          "page": {
            "type": "number"
          },
          "pageSize": {
            "type": "number"
          },
          "total": {
            "type": "number"
          },
          "totalPages": {
            "type": "number"
          },
          "tracks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrackDto"
            }
          }
        },
        "required": [
          "page",
          "pageSize",
          "total",
          "totalPages",
          "tracks"
        ]
      },
      "SyncOptionsDto": {
        "type": "object",
        "properties": {
          "forceRefreshPlaylists": {
            "type": "boolean",
            "default": false,
            "description": "Force refresh all playlists, ignoring snapshot-based change detection. By default, playlists are only synced if their snapshot ID has changed since the last sync. Set to true to re-sync all playlists regardless of changes.",
            "example": false
          },
          "syncAlbums": {
            "type": "boolean",
            "default": true,
            "description": "Include saved albums in sync. When false, only liked tracks and playlists will be synced.",
            "example": true
          },
          "syncLikedTracks": {
            "type": "boolean",
            "default": true,
            "description": "Include liked tracks (saved songs) in sync. When false, only albums and playlists will be synced.",
            "example": true
          },
          "syncPlaylists": {
            "type": "boolean",
            "default": true,
            "description": "Include playlists in sync. When false, only liked tracks and albums will be synced.",
            "example": true
          }
        }
      },
      "SyncJobResponseDto": {
        "type": "object",
        "properties": {
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Job creation timestamp"
          },
          "jobId": {
            "type": "string",
            "description": "Unique job identifier"
          },
          "message": {
            "type": "string",
            "description": "Success message"
          },
          "status": {
            "type": "string",
            "description": "Job status",
            "enum": [
              "queued",
              "active",
              "completed",
              "failed"
            ]
          }
        },
        "required": [
          "jobId",
          "message",
          "status"
        ]
      },
      "PlaySyncResultDto": {
        "type": "object",
        "properties": {
          "jobId": {
            "type": "string",
            "description": "Job ID for the sync operation"
          },
          "message": {
            "type": "string",
            "description": "Human-readable message about the sync result"
          },
          "newPlaysCount": {
            "type": "number",
            "description": "Number of new plays imported",
            "nullable": true
          },
          "status": {
            "type": "string",
            "description": "Status of the sync job"
          }
        },
        "required": [
          "jobId",
          "message",
          "status"
        ]
      },
      "UpdateTagDto": {
        "type": "object",
        "properties": {
          "color": {
            "type": "string",
            "pattern": "^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$",
            "description": "Tag color in hex format"
          },
          "name": {
            "type": "string",
            "description": "Tag name"
          }
        }
      },
      "UpdateRatingDto": {
        "type": "object",
        "properties": {
          "rating": {
            "type": "number",
            "minimum": 0.5,
            "maximum": 5,
            "description": "Rating value (0.5-5 in 0.5 increments)",
            "example": 4.5
          }
        },
        "required": [
          "rating"
        ]
      },
      "CurrentPlaybackDeviceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "volumePercent": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "isActive",
          "name",
          "type",
          "volumePercent"
        ]
      },
      "CurrentPlaybackTrackAlbumDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "images",
          "name"
        ]
      },
      "CurrentPlaybackTrackArtistDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "CurrentPlaybackTrackDto": {
        "type": "object",
        "properties": {
          "album": {
            "$ref": "#/components/schemas/CurrentPlaybackTrackAlbumDto"
          },
          "artists": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CurrentPlaybackTrackArtistDto"
            }
          },
          "durationMs": {
            "type": "number"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "album",
          "artists",
          "durationMs",
          "id",
          "name"
        ]
      },
      "CurrentPlaybackStateDto": {
        "type": "object",
        "properties": {
          "device": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/CurrentPlaybackDeviceDto"
              }
            ]
          },
          "isPlaying": {
            "type": "boolean"
          },
          "progressMs": {
            "type": "number"
          },
          "repeatState": {
            "type": "string"
          },
          "shuffleState": {
            "type": "boolean"
          },
          "track": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/CurrentPlaybackTrackDto"
              }
            ]
          }
        },
        "required": [
          "device",
          "isPlaying",
          "progressMs",
          "repeatState",
          "shuffleState",
          "track"
        ]
      },
      "PlaybackControlResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Playback paused"
          }
        },
        "required": [
          "message"
        ]
      },
      "PlayContextDto": {
        "type": "object",
        "properties": {
          "clickedIndex": {
            "type": "number",
            "minimum": 0,
            "description": "Index of clicked track in current page (0-based)",
            "example": 10
          },
          "contextId": {
            "type": "string",
            "description": "ID of the context (playlist, album, artist, etc.)",
            "example": "abc123"
          },
          "contextType": {
            "enum": [
              "ALBUM",
              "ARTIST",
              "LIBRARY",
              "PLAYLIST",
              "SMART_PLAYLIST",
              "TRACK"
            ],
            "type": "string",
            "description": "Type of context to play",
            "example": "LIBRARY"
          },
          "deviceId": {
            "type": "string",
            "description": "Spotify device ID to play on",
            "example": "b980b2daec2c8e1df7fe2677c0fd4421ae0ae013"
          },
          "pageNumber": {
            "type": "number",
            "minimum": 1,
            "description": "Current page number (1-based)",
            "example": 4
          },
          "pageSize": {
            "type": "number",
            "minimum": 1,
            "description": "Number of items per page",
            "example": 20
          },
          "search": {
            "type": "string",
            "description": "Search query string to filter tracks",
            "example": "Beatles"
          },
          "shuffle": {
            "type": "boolean",
            "description": "Whether to shuffle the queue",
            "example": true
          },
          "sortBy": {
            "type": "string",
            "description": "Field to sort by",
            "example": "addedAt"
          },
          "sortOrder": {
            "type": "string",
            "description": "Sort order",
            "enum": [
              "asc",
              "desc"
            ],
            "example": "desc"
          },
          "startPosition": {
            "type": "number",
            "minimum": 0,
            "description": "Position to start playing from (deprecated - use pagination fields)",
            "example": 0
          },
          "unratedOnly": {
            "type": "boolean",
            "description": "Filter for unrated tracks only",
            "example": true
          }
        },
        "required": [
          "contextType"
        ]
      },
      "PlaybackTimingsDto": {
        "type": "object",
        "properties": {
          "queueGeneration": {
            "type": "number",
            "example": 150
          },
          "spotifyCall": {
            "type": "number",
            "example": 300
          },
          "total": {
            "type": "number",
            "example": 450
          }
        },
        "required": [
          "queueGeneration",
          "spotifyCall",
          "total"
        ]
      },
      "PlaybackResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Playback started"
          },
          "queueLength": {
            "type": "number",
            "example": 200
          },
          "timings": {
            "$ref": "#/components/schemas/PlaybackTimingsDto"
          },
          "trackUris": {
            "example": [
              "spotify:track:abc123",
              "spotify:track:def456"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "message",
          "queueLength",
          "timings",
          "trackUris"
        ]
      },
      "TransferPlaybackDto": {
        "type": "object",
        "properties": {
          "deviceId": {
            "type": "string",
            "description": "Device ID to transfer playback to"
          }
        },
        "required": [
          "deviceId"
        ]
      },
      "PlaylistRuleDto": {
        "type": "object",
        "properties": {
          "daysValue": {
            "type": "number",
            "description": "For date rules - number of days"
          },
          "field": {
            "enum": [
              "acousticness",
              "album",
              "artist",
              "danceability",
              "dateAdded",
              "duration",
              "energy",
              "genre",
              "instrumentalness",
              "lastPlayed",
              "liveness",
              "playCount",
              "rating",
              "speechiness",
              "tag",
              "tempo",
              "title",
              "valence"
            ],
            "type": "string"
          },
          "numberValue": {
            "type": "number"
          },
          "operator": {
            "enum": [
              "contains",
              "endsWith",
              "equals",
              "greaterThan",
              "hasAnyTag",
              "hasNoTags",
              "hasTag",
              "inLast",
              "isNotNull",
              "isNull",
              "lessThan",
              "notContains",
              "notEquals",
              "notHasTag",
              "notInLast",
              "startsWith"
            ],
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        },
        "required": [
          "field",
          "operator"
        ]
      },
      "PlaylistCriteriaDto": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Limit number of tracks"
          },
          "logic": {
            "enum": [
              "and",
              "or"
            ],
            "type": "string"
          },
          "orderBy": {
            "type": "string",
            "description": "Order by field"
          },
          "orderDirection": {
            "enum": [
              "asc",
              "desc"
            ],
            "type": "string"
          },
          "rules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlaylistRuleDto"
            }
          }
        },
        "required": [
          "logic",
          "rules"
        ]
      },
      "CreateSmartPlaylistDto": {
        "type": "object",
        "properties": {
          "criteria": {
            "$ref": "#/components/schemas/PlaylistCriteriaDto"
          },
          "description": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean",
            "default": true
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "criteria",
          "name"
        ]
      },
      "SmartPlaylistDto": {
        "type": "object",
        "properties": {
          "autoSync": {
            "type": "boolean",
            "default": true,
            "description": "Enable automatic sync to Spotify"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "criteria": {
            "$ref": "#/components/schemas/PlaylistCriteriaDto"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "lastSyncedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "lastUpdated": {
            "format": "date-time",
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "spotifyPlaylistId": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "autoSync",
          "createdAt",
          "criteria",
          "id",
          "isActive",
          "lastUpdated",
          "name"
        ]
      },
      "SmartPlaylistWithTracksDto": {
        "type": "object",
        "properties": {
          "autoSync": {
            "type": "boolean",
            "default": true,
            "description": "Enable automatic sync to Spotify"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "criteria": {
            "$ref": "#/components/schemas/PlaylistCriteriaDto"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "lastSyncedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "lastUpdated": {
            "format": "date-time",
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "spotifyPlaylistId": {
            "type": "string",
            "nullable": true
          },
          "trackCount": {
            "type": "number"
          }
        },
        "required": [
          "autoSync",
          "createdAt",
          "criteria",
          "id",
          "isActive",
          "lastUpdated",
          "name",
          "trackCount"
        ]
      },
      "SyncToSpotifyResponseDto": {
        "type": "object",
        "properties": {
          "spotifyPlaylistId": {
            "type": "string",
            "description": "The Spotify playlist ID"
          },
          "trackCount": {
            "type": "number",
            "description": "Number of tracks synced to the playlist"
          }
        },
        "required": [
          "spotifyPlaylistId",
          "trackCount"
        ]
      },
      "UpdateSmartPlaylistDto": {
        "type": "object",
        "properties": {
          "autoSync": {
            "type": "boolean",
            "description": "Enable automatic sync to Spotify"
          },
          "criteria": {
            "$ref": "#/components/schemas/PlaylistCriteriaDto"
          },
          "description": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          }
        }
      }
    }
  }
}